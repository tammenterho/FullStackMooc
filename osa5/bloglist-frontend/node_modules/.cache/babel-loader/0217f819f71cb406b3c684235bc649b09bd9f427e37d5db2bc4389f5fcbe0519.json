{"ast":null,"code":"var _jsxFileName = \"C:\\\\FullStackMooc\\\\osa5\\\\bloglist-frontend\\\\src\\\\components\\\\Blog.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport '../styles.css';\nimport blogService from '../services/blogs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Blog = _ref => {\n  _s();\n  let {\n    blog,\n    user\n  } = _ref;\n  const [showInfo, setShowInfo] = useState(false);\n  const [blogs, setBlogs] = useState([]);\n  useEffect(() => {\n    blogService.getAll().then(blogs => setBlogs(blogs));\n  }, [blog.likes]);\n  console.log(user, \"tässä user\");\n  const toggle = () => {\n    setShowInfo(!showInfo);\n  };\n  const blogStyle = {\n    paddingTop: 10,\n    paddingLeft: 2,\n    border: 'solid',\n    borderWidth: 1,\n    marginBottom: 5\n  };\n  const handleLike = async () => {\n    try {\n      const updatedBlog = {\n        ...blog,\n        likes: blog.likes + 1\n      };\n      await blogService.updateBlog(blog.id, updatedBlog);\n      // Päivitetään myös tilan blogin liket\n      setBlogs(prevBlogs => prevBlogs.map(b => b.id === blog.id ? {\n        ...b,\n        likes: updatedBlog.likes\n      } : b));\n    } catch (error) {\n      console.error('Virhe likea lisätessä:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: blogStyle,\n    className: \"blogInfo\",\n    children: [!showInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [blog.title, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggle,\n        children: \"show\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }, this), showInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: blog.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: blog.author\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: blog.url,\n          style: {\n            color: \"blue\",\n            textDecoration: \"underline\"\n          },\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: blog.url\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [blog.likes, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLike,\n          children: \"like\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggle,\n        children: \"hide\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(Blog, \"mp2OMB6NY88ML0M/LrmYC3nsu3E=\");\n_c = Blog;\nexport default Blog;\nvar _c;\n$RefreshReg$(_c, \"Blog\");","map":{"version":3,"names":["useState","useEffect","blogService","Blog","blog","user","showInfo","setShowInfo","blogs","setBlogs","getAll","then","likes","console","log","toggle","blogStyle","paddingTop","paddingLeft","border","borderWidth","marginBottom","handleLike","updatedBlog","updateBlog","id","prevBlogs","map","b","error","title","author","url","color","textDecoration"],"sources":["C:/FullStackMooc/osa5/bloglist-frontend/src/components/Blog.js"],"sourcesContent":["import { useState,useEffect } from \"react\"\r\nimport '../styles.css';\r\nimport blogService from '../services/blogs'\r\n\r\n\r\n\r\n\r\nconst Blog = ({ blog, user }) => {\r\n  const [showInfo, setShowInfo] = useState(false)\r\n  const [blogs, setBlogs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    blogService.getAll().then((blogs) => setBlogs(blogs));\r\n  }, [blog.likes]);\r\n\r\n  console.log(user, \"tässä user\")\r\n  const toggle = () => {\r\n    setShowInfo(!showInfo)\r\n  }\r\n\r\n  const blogStyle = {\r\n    paddingTop: 10,\r\n    paddingLeft: 2,\r\n    border: 'solid',\r\n    borderWidth: 1,\r\n    marginBottom: 5\r\n  }\r\n\r\n  const handleLike = async () => {\r\n    try {\r\n      const updatedBlog = {\r\n        ...blog,\r\n        likes: blog.likes + 1,\r\n      };\r\n\r\n      await blogService.updateBlog(blog.id, updatedBlog);\r\n      // Päivitetään myös tilan blogin liket\r\n      setBlogs((prevBlogs) =>\r\n        prevBlogs.map((b) => (b.id === blog.id ? { ...b, likes: updatedBlog.likes } : b))\r\n      );\r\n    } catch (error) {\r\n      console.error('Virhe likea lisätessä:', error);\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    <div style={blogStyle} className=\"blogInfo\">\r\n      {!showInfo && <div>{blog.title} <button onClick={toggle}>show</button></div>\r\n      }\r\n      {showInfo &&\r\n        <div>\r\n          <p>{blog.title}</p>\r\n          <p>{blog.author}</p>\r\n          <p> <a\r\n            href={blog.url}\r\n            style={{\r\n              color: \"blue\",\r\n              textDecoration: \"underline\",\r\n            }}\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            {blog.url}\r\n          </a></p>\r\n          <p>{blog.likes}<button onClick={handleLike}>like</button></p> \r\n          <button onClick={toggle}>hide</button>\r\n        </div>\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blog"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}